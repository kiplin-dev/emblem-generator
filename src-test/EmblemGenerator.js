import Raphael from 'raphael'

class EmblemGenerator {
  constructor() {
    this.flags_defs = {
      "FlipBackgroundVertical": 1,
      "FlipBackgroundHorizontal": 2,
      "FlipForegroundVertical": 4,
      "FlipForegroundHorizontal": 8
    }

    this.color_defs = {"1":"#7c6c53","2":"#252326","3":"#5f5c5c","4":"#484546","5":"#302e31","6":"#d3d0cf","7":"#003349","8":"#016a87","9":"#004c6d","10":"#3682a0","11":"#001f34","12":"#48220f","13":"#41311d","14":"#58402a","15":"#27251e","16":"#2a1607","17":"#472c17","18":"#361e03","19":"#353228","20":"#968469","21":"#301308","22":"#564a38","23":"#7e6343","24":"#653b22","25":"#221b0b","26":"#5f4320","27":"#24417a","28":"#4a71bb","29":"#04143e","30":"#122559","31":"#23578b","32":"#774b43","33":"#864135","34":"#5d2319","35":"#9f6a57","36":"#965040","37":"#596680","38":"#2e4153","39":"#203a44","40":"#2f3148","41":"#314a48","42":"#485f5d","43":"#28323f","44":"#2e525f","45":"#283a3d","46":"#3d5267","47":"#461041","48":"#5e1d64","49":"#793581","50":"#9d5ca4","51":"#2d0923","52":"#666000","53":"#586e39","54":"#8a8127","55":"#1d653b","56":"#00260e","57":"#0e2c0b","58":"#42865a","59":"#0a4f27","60":"#0f2f24","61":"#07351a","62":"#453b2e","63":"#3e4130","64":"#714910","65":"#3f3921","66":"#5d2e0f","67":"#8a6732","68":"#3e4447","69":"#21292d","70":"#a7998e","71":"#370400","72":"#464637","73":"#491a05","74":"#828a92","75":"#57534c","76":"#0e1c25","77":"#171b28","78":"#241620","79":"#261702","80":"#0f1c14","81":"#201906","82":"#1e1725","83":"#250f0b","84":"#2b1618","85":"#241209","86":"#0a1b1a","87":"#1a1829","88":"#161c0e","89":"#323c41","90":"#9a8372","91":"#7c6c53","92":"#403d46","93":"#7c888a","94":"#9b8e79","96":"#4b3f39","97":"#373f38","98":"#746970","99":"#5f6460","100":"#45463e","101":"#666455","102":"#ba6f57","103":"#615449","104":"#3c3900","105":"#455100","106":"#5b6a00","107":"#272400","108":"#747f21","109":"#a04b17","110":"#3b0c00","111":"#ca6b39","112":"#983f17","113":"#5f1700","114":"#452863","115":"#230f3d","116":"#5e468c","117":"#301a4d","118":"#8160af","119":"#330002","120":"#a9484c","121":"#c2616a","122":"#470000","123":"#660006","124":"#b65a80","125":"#751943","126":"#a9365e","127":"#4d0026","128":"#2f0019","129":"#405612","130":"#192700","131":"#163900","132":"#235000","133":"#62893c","134":"#2d8c7f","135":"#00514c","136":"#003831","137":"#006c6c","138":"#002323","139":"#353574","140":"#292159","141":"#6b6eb9","142":"#4d5398","143":"#151340","144":"#7a4400","145":"#5e3100","146":"#895500","147":"#9b6c00","148":"#ab8726","314":"#483f42","315":"#af9f7c","332":"#9c6a46","333":"#927743","334":"#827b3e","335":"#86706b","336":"#998b70","337":"#765f54","338":"#562400","339":"#426d23","340":"#514500","341":"#453000","342":"#2c1d00","343":"#b96b6b","344":"#bd8861","345":"#bb9755","346":"#959b5f","347":"#7d9664","348":"#68947b","349":"#698f97","350":"#7579a1","351":"#8a6c99","352":"#945648","353":"#736751","354":"#a37973","355":"#8f8f71","356":"#738083","357":"#8d7277","358":"#2b322e","359":"#6d7a4a","360":"#5e785b","361":"#50706a","362":"#506773","363":"#5b5e78","364":"#715063","365":"#814646","366":"#765632","367":"#4b4422","368":"#57291b","369":"#5a3808","370":"#273300","371":"#4a3751","372":"#302a41","373":"#7f7363","374":"#c55d4b","375":"#9d3e2d","376":"#85241a","377":"#580800","378":"#470000","379":"#b4752a","380":"#98560b","381":"#864000","382":"#7b3000","383":"#624225","384":"#4b382e","385":"#5b5f63","434":"#6f4326","435":"#5a4620","436":"#4d2121","437":"#552f16","438":"#383c16","439":"#514a64","440":"#36273f","441":"#482a3d","442":"#8e8a78","443":"#bdbab9","444":"#857a60","445":"#8e9881","446":"#7f7272","447":"#a0826c","448":"#7d8674","449":"#777987","450":"#4b3a2d","451":"#2c3439","452":"#6b5b3c","453":"#392920","454":"#473f33","455":"#2f281c","456":"#21130e","457":"#4d3e26","458":"#292c36","459":"#4f3929","460":"#807383","461":"#74867d","462":"#9e8b66","463":"#4a2a2a","464":"#342d38","465":"#393522","466":"#6c3e2d","467":"#695637","468":"#88533f","469":"#483b1b","470":"#2b230c","471":"#3d2b31","472":"#4a361a","473":"#1a181b","474":"#524f4f","475":"#6b6969","476":"#3b393c","477":"#9d9a9a","478":"#624c3f","479":"#81654d","480":"#9c7e51","481":"#a16d55","482":"#000000","483":"#000008","484":"#323b2d","485":"#343223","582":"#752200","583":"#21356a","584":"#9d8e6c","585":"#c7a23d","586":"#330000","587":"#a0a8b9","588":"#284e82","589":"#523776","590":"#6687c6","591":"#e09e5c","592":"#770000","593":"#6b1400","594":"#e38350","595":"#ee9566","596":"#d8aa86","597":"#414f53","598":"#b2a740","599":"#1a4400","600":"#a97815","601":"#371700","602":"#322f00","603":"#595fa9","604":"#411e00","605":"#382800","606":"#00453e","607":"#103300","608":"#500c00","609":"#3a0f32","610":"#7d7a7a","611":"#8e8a88","612":"#687600","613":"#7cb286","614":"#7895cd","615":"#662d6c","616":"#893203","617":"#1c5a2d","618":"#4d2a00","619":"#b34d74","620":"#a366aa","621":"#d8b080","622":"#ac6620","623":"#cc8a48","624":"#b7678b","625":"#005f7c","626":"#42447f","627":"#47514b","628":"#ccb471","629":"#5a0000","630":"#63a46f","631":"#9cc4a0","632":"#2a5c05","633":"#b14d3b","634":"#22788f","635":"#75974a","636":"#86a956","637":"#a9c188","638":"#499864","639":"#43978c","640":"#6369b5","641":"#8e2652","642":"#d4b254","643":"#888266","644":"#382f67","645":"#6b654c","646":"#b5bc72","647":"#b95629","648":"#97322c","649":"#8fa7d3","650":"#e7a876","651":"#e0ae73","652":"#dabc6b","653":"#8ac094","654":"#9ebc75","655":"#b3bc5e","656":"#efab8b","657":"#f7aa9d","658":"#a895c3","659":"#cb8ca9","660":"#83bbac","661":"#c1b759","662":"#9398d6","663":"#b88dbc","664":"#85b3c1","665":"#d9ab95","666":"#a94165","667":"#884a8e","668":"#d8aca4","669":"#e18076","670":"#541c54","671":"#9b83bc","672":"#b1a4c3","673":"#87000a","674":"#00405b","675":"#3c2456","676":"#386299","677":"#6e3b00","678":"#bd7294","679":"#c99eb2","680":"#610a35","681":"#6bac9e","682":"#55ad9a","683":"#96bab1","684":"#787dc0","685":"#8f77b0","686":"#642700","687":"#736d00","688":"#5b4e00","689":"#297549","690":"#97a53b","691":"#488f9f","692":"#496100","693":"#c5bd70","694":"#4b772a","695":"#7b7600","696":"#01776e","697":"#9d922a","698":"#a0252f","699":"#f39a91","700":"#3d70a2","701":"#765c9d","702":"#f79b7e","703":"#a99c81","704":"#005d5d","705":"#431a00","706":"#6b5490","707":"#868bc9","708":"#9da0c4","709":"#064224","710":"#ac7db1","711":"#bc9dbf","712":"#6fa2b1","713":"#5699ae","714":"#96b1ba","715":"#89932a","1053":"#e17967","1054":"#3e4100","1149":"#791a09","1150":"#440000","1151":"#601300","1152":"#2d0000","1153":"#550000","1154":"#a1660c","1155":"#c58d36","1156":"#455139","1157":"#3e574f","1158":"#42485a","1159":"#47435a","1160":"#573e4f","1161":"#574747","1231":"#3c6a65","1232":"#3d5e6f","1233":"#597d8f","1234":"#578984","1235":"#2f4d4a","1236":"#304550","1237":"#cb8c16","1238":"#dab44d","1239":"#9c5915","1240":"#8b2e12","1241":"#423a31","1242":"#8e8b73","1243":"#ff0000"}

    this.bg_defs = {"0":{"size":256,"t":false,"p":""},"1":{"size":256,"t":true,"p":["M 112.24 14.02 C 113.24 14.01 115.22 13.99 116.22 13.98 C 158.28 59.98 200.02 106.27 242.01 152.33 C 242.00 153.87 241.99 155.41 241.97 156.96 C 198.69 109.34 155.35 61.79 112.24 14.02 Z  M 48.10 14.17 C 68.04 14.42 87.98 14.10 107.92 14.05 C 152.73 63.07 197.17 112.43 242.00 161.43 C 241.94 183.59 241.98 205.76 241.98 227.92 C 177.53 156.51 112.62 85.52 48.10 14.17 Z  M 14.30 30.21 C 17.80 34.80 21.96 38.82 25.87 43.04 C 86.31 109.23 146.48 175.67 206.76 242.00 C 186.87 242.03 166.98 241.90 147.10 242.00 C 102.75 193.20 58.48 144.34 14.10 95.57 C 14.10 73.79 14.46 52.00 14.30 30.21 Z  M 13.94 100.13 C 28.67 115.72 42.75 131.92 57.34 147.63 C 85.78 179.16 114.49 210.47 142.93 242.00 C 141.27 242.02 139.62 242.01 137.96 242.00 C 96.98 197.33 56.44 152.24 15.58 107.46 C 13.45 105.62 14.13 102.60 13.94 100.13 Z"]},"2":{"size":256,"t":true,"p":["M 192.70 52.58 C 197.72 46.96 205.63 46.70 212.57 45.64 C 209.41 47.14 206.10 48.26 202.81 49.43 C 198.80 50.81 195.55 53.61 192.13 56.01 C 187.74 59.10 183.36 62.21 179.20 65.60 C 184.30 66.26 188.82 63.74 193.35 61.87 C 190.72 64.02 187.75 65.70 184.68 67.13 C 184.49 67.50 184.11 68.23 183.92 68.60 C 185.08 69.00 186.25 69.39 187.43 69.79 C 186.85 72.91 186.66 76.24 184.91 78.99 C 182.99 82.10 180.86 85.10 179.21 88.37 C 176.23 90.62 173.28 92.92 170.49 95.40 C 174.01 93.86 177.48 92.22 180.96 90.57 C 182.60 91.19 184.25 91.82 185.90 92.45 C 185.31 95.89 184.67 99.32 184.05 102.76 C 186.44 101.30 188.88 99.94 191.37 98.66 C 187.95 104.61 182.21 108.46 176.59 112.11 C 185.98 107.68 195.76 104.21 205.17 99.82 C 196.24 105.17 186.99 110.17 179.04 116.95 C 184.41 116.41 188.64 112.87 193.27 110.48 C 197.66 108.14 201.87 105.49 206.20 103.03 C 198.77 108.36 190.50 112.32 182.67 117.00 C 182.64 117.86 182.58 119.58 182.54 120.44 C 185.22 119.21 187.90 117.98 190.48 116.55 C 197.67 112.36 205.70 109.96 213.13 106.27 C 217.87 103.89 222.90 102.17 228.09 101.11 C 227.82 104.21 226.58 107.05 224.39 109.27 C 225.69 109.80 226.98 110.34 228.28 110.89 C 227.01 112.12 225.75 113.36 224.49 114.60 C 224.53 115.94 224.57 117.28 224.61 118.63 C 220.25 120.90 215.78 122.98 211.55 125.49 C 207.10 128.10 203.49 131.83 199.87 135.44 C 199.28 135.64 198.70 135.85 198.12 136.06 C 195.76 140.12 191.33 141.63 187.14 143.02 C 186.37 144.36 186.00 146.21 184.37 146.80 C 179.80 148.82 175.38 151.16 170.99 153.53 C 171.52 154.41 172.07 155.28 172.61 156.16 C 168.07 157.73 164.07 160.39 160.22 163.20 C 153.58 167.43 147.65 172.64 141.47 177.49 C 141.01 177.01 140.54 176.53 140.08 176.06 C 134.87 180.74 130.09 186.37 123.60 189.28 C 125.87 185.13 129.37 181.92 132.60 178.54 C 122.27 185.41 113.99 194.79 104.12 202.22 C 102.17 203.76 101.41 200.87 100.79 199.59 C 103.34 196.84 105.84 194.05 108.43 191.34 C 108.45 190.39 108.46 189.45 108.47 188.51 C 114.01 185.22 116.62 179.22 119.61 173.83 C 118.59 174.51 117.58 175.20 116.56 175.88 C 116.15 175.41 115.33 174.46 114.92 173.98 C 113.23 175.65 111.50 177.26 109.73 178.83 C 110.55 179.45 111.36 180.07 112.18 180.70 C 109.28 183.11 106.37 185.51 103.65 188.12 C 103.61 189.19 103.56 190.27 103.52 191.35 C 102.78 192.08 102.04 192.81 101.30 193.55 C 101.48 191.95 101.65 190.35 101.84 188.75 C 100.29 190.38 98.72 192.00 97.11 193.56 C 97.50 191.65 97.29 189.36 98.91 187.95 C 103.76 182.76 109.65 178.43 113.26 172.17 C 109.47 174.42 106.23 177.43 103.25 180.66 C 103.41 179.09 103.58 177.53 103.75 175.97 C 100.22 179.87 96.57 183.70 92.14 186.59 C 95.81 181.21 99.33 175.57 104.46 171.43 C 104.45 170.45 104.44 169.48 104.43 168.51 C 107.98 165.11 111.57 161.74 114.67 157.91 C 108.09 162.84 102.40 168.80 96.39 174.38 C 94.68 175.97 92.64 177.12 90.61 178.24 C 92.17 176.25 93.84 174.35 95.59 172.53 C 94.98 171.89 94.38 171.25 93.78 170.62 C 95.26 170.59 96.74 170.55 98.22 170.53 C 108.28 160.21 119.16 150.73 130.50 141.83 C 128.14 142.89 125.80 143.96 123.46 145.04 C 130.20 137.47 139.34 132.71 146.56 125.68 C 137.30 130.76 129.57 138.11 120.57 143.59 C 115.78 146.20 113.51 152.35 107.67 153.11 C 109.84 150.33 112.22 147.72 114.57 145.09 C 106.65 151.76 98.05 157.65 90.77 165.05 C 87.48 166.37 85.13 169.06 83.21 171.95 C 82.02 171.48 80.83 171.01 79.64 170.53 C 79.62 171.47 79.60 172.41 79.59 173.35 C 77.92 174.52 76.26 175.70 74.60 176.87 C 74.62 177.74 74.63 178.62 74.63 179.50 C 73.40 179.55 72.16 179.59 70.92 179.64 C 67.72 185.95 63.70 191.88 58.56 196.78 C 59.61 194.63 60.69 192.49 61.79 190.36 C 59.50 192.17 57.19 193.96 54.84 195.69 C 58.48 191.02 62.66 186.81 66.24 182.10 C 66.56 179.68 67.12 177.30 67.83 174.96 C 64.33 178.78 60.53 182.31 56.96 186.06 C 55.95 185.59 54.95 185.12 53.95 184.66 C 51.17 188.30 47.63 191.21 44.12 194.10 C 35.76 201.83 28.44 210.59 20.83 219.04 C 24.22 214.55 27.60 210.05 30.28 205.10 C 32.70 200.39 37.60 197.83 40.59 193.58 C 42.90 190.45 44.98 187.14 46.80 183.70 C 45.81 183.37 44.10 184.07 43.86 182.63 C 45.00 181.11 46.89 180.69 48.71 180.85 C 50.79 179.48 52.95 178.09 54.43 176.06 C 55.76 173.85 56.17 171.24 56.88 168.80 C 52.00 170.76 47.20 172.94 42.78 175.79 C 44.42 173.28 45.85 170.65 47.37 168.07 C 48.51 166.26 49.42 164.31 50.10 162.28 C 46.15 165.09 42.86 169.01 38.05 170.40 C 41.86 165.25 45.18 159.17 51.45 156.68 C 50.95 156.00 50.45 155.33 49.95 154.66 C 53.21 150.70 56.78 147.02 60.43 143.42 C 64.59 139.40 67.56 134.37 71.55 130.20 C 70.78 130.35 69.25 130.65 68.48 130.80 C 73.28 124.85 79.40 120.19 84.48 114.51 C 90.56 107.63 97.45 101.55 103.60 94.75 C 106.39 91.88 109.70 89.48 111.93 86.11 C 112.98 85.21 114.03 84.31 115.09 83.43 C 113.82 83.46 111.27 83.53 110.00 83.56 C 113.09 81.63 116.25 79.81 119.35 77.91 C 113.06 80.19 107.73 84.39 101.56 86.93 C 103.62 85.00 105.77 83.19 107.90 81.35 C 106.07 81.30 104.24 81.25 102.41 81.18 C 106.03 77.68 111.14 77.32 115.62 75.58 C 112.80 75.96 110.02 76.55 107.24 77.08 C 110.73 74.40 114.44 72.04 118.23 69.81 C 110.51 73.69 102.51 77.04 95.08 81.46 C 95.24 80.52 95.41 79.57 95.58 78.62 C 96.21 78.61 97.48 78.58 98.11 78.57 C 102.38 73.73 108.57 71.47 113.41 67.35 C 112.83 66.82 111.68 65.78 111.11 65.26 C 116.98 62.68 122.29 59.06 127.76 55.75 C 130.89 53.84 133.82 51.44 137.40 50.42 C 140.64 49.49 144.00 49.19 147.32 48.70 C 148.13 49.31 148.93 49.92 149.74 50.54 C 151.31 50.44 152.88 50.34 154.45 50.23 C 151.25 51.62 148.53 53.80 145.66 55.73 C 143.12 56.95 140.18 56.80 137.44 57.12 C 137.36 58.73 137.31 60.35 137.24 61.97 C 143.47 60.22 149.30 57.06 155.80 56.34 C 149.13 62.56 140.05 64.97 132.58 70.01 C 143.18 66.53 152.51 59.88 163.37 57.06 C 163.54 56.59 163.86 55.65 164.02 55.18 C 161.86 55.37 159.70 55.54 157.54 55.68 C 163.42 52.58 170.13 51.53 175.91 48.22 C 178.82 46.45 182.27 46.51 185.55 46.42 C 182.07 48.19 178.28 49.65 175.71 52.76 C 176.88 52.46 179.23 51.85 180.40 51.55 C 177.39 54.02 174.60 56.75 172.28 59.88 C 179.01 58.51 185.60 56.44 192.40 55.37 C 192.47 54.67 192.62 53.28 192.70 52.58 M 153.63 150.13 C 149.47 152.30 144.93 153.96 141.37 157.11 C 138.67 159.86 136.38 162.98 133.55 165.61 C 136.61 163.48 139.89 161.69 143.22 160.00 C 148.31 157.63 151.29 152.16 156.99 150.84 C 159.97 147.75 163.40 145.16 167.14 143.07 C 162.56 145.28 158.23 147.95 153.63 150.13 Z  M 187.57 149.50 C 192.39 145.26 197.51 141.17 203.52 138.75 C 198.48 142.73 192.99 146.07 187.57 149.50 Z"]},"3":{"size":256,"t":true,"p":["M 18.12 19.67 C 20.35 18.97 22.65 18.44 25.00 18.55 C 37.92 18.64 50.83 18.77 63.75 18.83 C 63.86 23.81 63.83 28.80 63.82 33.78 C 77.84 33.87 91.85 33.88 105.87 33.78 C 105.89 28.70 105.87 23.61 105.91 18.52 C 120.97 18.58 136.02 18.54 151.08 18.54 C 151.09 23.63 151.08 28.72 151.11 33.82 C 165.12 33.83 179.13 33.92 193.13 33.77 C 193.22 28.78 193.20 23.79 193.30 18.80 C 207.94 18.95 222.59 18.32 237.23 18.77 C 238.82 20.82 237.65 23.64 237.84 26.01 C 237.69 38.25 237.78 50.48 237.72 62.72 C 232.75 62.77 227.79 62.76 222.82 62.80 C 222.75 76.79 222.78 90.78 222.81 104.77 C 227.97 104.90 233.13 104.87 238.29 104.82 C 238.24 119.91 238.31 135.00 238.29 150.09 C 233.09 150.19 227.89 149.76 222.70 150.25 C 222.86 164.11 222.76 177.98 222.77 191.85 C 227.76 191.92 232.75 191.90 237.74 191.92 C 237.86 206.64 237.68 221.36 237.80 236.09 C 234.42 237.66 230.65 237.34 227.03 237.25 C 215.41 237.50 203.84 236.26 192.21 236.77 C 192.21 231.84 192.23 226.91 192.22 221.98 C 178.21 221.55 164.18 221.70 150.16 221.89 C 150.07 227.04 150.10 232.18 150.09 237.33 C 135.08 237.24 120.06 237.33 105.05 237.29 C 105.13 232.09 105.50 226.86 104.73 221.68 C 90.77 221.88 76.81 221.63 62.86 221.84 C 62.83 226.84 62.86 231.84 62.82 236.84 C 47.93 236.24 33.00 238.19 18.16 236.87 C 17.60 234.27 17.81 231.60 17.80 228.96 C 17.95 216.98 17.58 204.98 18.08 192.99 C 23.11 192.87 28.13 192.92 33.16 192.84 C 33.19 178.89 33.19 164.93 33.20 150.98 C 28.02 150.70 22.83 150.81 17.65 150.77 C 17.76 135.79 17.69 120.80 17.70 105.82 C 22.83 105.85 27.97 105.89 33.11 105.76 C 33.32 91.75 33.16 77.74 33.21 63.73 C 28.24 63.65 23.27 63.68 18.29 63.71 C 18.07 49.03 18.43 34.35 18.12 19.67 Z"]},"4":{"size":256,"t":true,"p":["M 16.06 15.45 C 34.72 15.41 53.39 15.41 72.05 15.45 C 72.09 34.11 72.05 52.77 72.07 71.43 C 53.40 71.45 34.72 71.47 16.05 71.42 C 16.14 52.76 16.13 34.11 16.06 15.45 Z  M 128.76 15.45 C 147.40 15.41 166.04 15.40 184.68 15.45 C 184.57 34.12 184.58 52.78 184.66 71.45 C 166.02 71.44 147.38 71.44 128.74 71.45 C 128.76 52.78 128.74 34.11 128.76 15.45 Z  M 72.39 71.86 C 91.00 71.89 109.60 71.85 128.21 71.88 C 128.30 90.54 128.22 109.19 128.25 127.84 C 109.63 127.82 91.01 127.83 72.39 127.84 C 72.39 109.18 72.38 90.52 72.39 71.86 Z  M 184.95 71.89 C 203.59 71.86 222.24 71.86 240.88 71.88 C 240.92 90.53 240.88 109.18 240.91 127.82 C 222.25 127.80 203.60 127.91 184.95 127.77 C 184.93 109.14 184.92 90.51 184.95 71.89 Z  M 16.11 128.17 C 34.76 128.20 53.41 128.09 72.06 128.23 C 72.06 146.86 72.08 165.49 72.05 184.13 C 53.41 184.14 34.76 184.15 16.11 184.12 C 16.10 165.47 16.10 146.82 16.11 128.17 Z  M 128.77 128.16 C 147.37 128.20 165.98 128.10 184.58 128.22 C 184.66 146.86 184.57 165.51 184.63 184.16 C 166.01 184.11 147.39 184.16 128.77 184.13 C 128.73 165.47 128.74 146.81 128.77 128.16 Z  M 72.36 240.55 C 72.45 221.89 72.33 203.22 72.42 184.56 C 91.02 184.56 109.63 184.54 128.23 184.57 C 128.29 203.22 128.21 221.88 128.27 240.53 C 109.64 240.61 91.00 240.58 72.36 240.55 Z  M 184.94 184.57 C 203.59 184.55 222.25 184.53 240.91 184.58 C 240.91 203.24 240.85 221.89 240.95 240.55 C 222.28 240.60 203.61 240.58 184.95 240.56 C 184.92 221.90 184.94 203.23 184.94 184.57 Z"]}}

    this.defs = {"cup":{"size":256,"p2":[" M 95.10 104.29 C 99.44 103.68 103.80 103.39 108.17 103.10 C 123.77 101.66 139.51 102.32 155.07 103.95 C 162.78 105.22 170.80 104.01 178.19 106.97 C 178.52 107.46 179.16 108.42 179.48 108.91 C 179.01 113.55 177.75 118.07 176.40 122.52 C 172.15 123.32 167.88 122.42 163.83 121.15 C 160.67 120.30 157.37 120.49 154.14 120.32 C 133.26 118.98 112.31 119.41 91.45 120.63 C 87.32 121.60 83.24 122.76 79.00 123.16 C 78.18 122.92 77.36 122.69 76.54 122.47 C 74.99 117.74 73.12 112.79 73.74 107.74 C 80.21 103.79 87.96 105.28 95.10 104.29 Z"," M 93.10 123.06 C 108.61 120.73 124.34 121.62 139.96 121.55 C 150.19 121.64 160.60 122.44 170.23 126.14 C 171.26 126.64 173.25 127.55 172.24 129.05 C 168.60 134.57 164.73 140.18 159.39 144.22 C 155.32 147.29 150.32 148.56 145.67 150.46 C 140.45 151.52 135.29 149.50 130.07 149.56 C 122.09 148.89 114.25 151.70 106.28 150.39 C 102.84 148.36 98.73 147.81 95.41 145.55 C 88.82 141.18 83.89 134.68 80.10 127.83 C 83.87 125.01 88.70 124.38 93.10 123.06 Z"," M 87.72 226.83 C 90.97 220.51 95.08 214.28 101.18 210.38 C 103.14 210.28 104.90 211.81 106.86 212.13 C 117.21 212.79 127.65 215.18 137.97 212.91 C 142.81 212.82 147.53 211.99 152.09 210.35 C 158.16 215.52 163.95 221.95 165.85 229.87 C 154.54 234.59 141.92 233.96 129.96 234.89 C 134.40 235.16 143.29 235.71 147.74 235.99 C 134.32 235.69 120.87 236.14 107.47 235.12 L 123.07 234.00 C 118.04 233.83 113.04 234.40 108.02 234.14 C 101.05 233.27 93.90 232.92 87.39 229.96 C 87.47 228.92 87.18 227.78 87.72 226.83 Z"],"p1":[" M 109.99 154.44 C 120.76 152.38 131.91 152.94 142.76 154.07 C 139.61 156.53 136.13 159.09 135.14 163.21 C 133.35 170.34 135.84 177.64 137.95 184.42 C 137.86 184.88 137.67 185.79 137.58 186.25 C 138.44 187.36 138.92 188.57 139.03 189.88 C 137.59 190.91 135.75 190.70 134.08 190.78 C 128.71 190.72 123.34 190.79 117.97 190.76 C 116.30 190.85 114.75 190.21 113.26 189.57 C 113.69 188.90 114.57 187.57 115.00 186.90 C 115.64 178.58 120.48 170.18 117.14 161.86 C 116.10 158.31 112.95 156.26 109.99 154.44 Z"," M 112.48 193.39 C 121.53 194.83 130.84 194.74 139.91 193.52 C 141.80 193.41 143.54 195.02 143.78 196.86 C 144.36 200.79 145.50 204.60 146.73 208.37 C 146.26 208.78 145.31 209.61 144.83 210.02 C 137.17 210.37 129.52 212.05 121.84 211.03 C 116.83 210.31 111.72 210.38 106.76 209.32 C 105.95 204.97 109.46 200.90 108.74 196.40 C 109.89 195.31 110.92 193.93 112.48 193.39 Z"],"pt1":[],"pto2":[]},"pyramid":{"size":256,"p2":[" M 129.00 45.13 C 161.95 77.28 193.35 110.97 225.58 143.83 C 218.95 149.46 211.21 153.50 203.56 157.54 C 184.04 168.25 164.80 179.45 145.40 190.38 C 139.97 193.61 134.24 196.35 128.99 199.87 L 128.99 199.31 C 129.01 188.40 128.99 177.49 129.00 166.58 C 129.00 166.09 129.01 165.10 129.01 164.60 C 128.99 143.84 129.00 123.07 129.00 102.30 C 129.01 101.86 129.01 100.97 129.01 100.52 C 129.03 96.93 129.04 93.34 128.83 89.76 C 128.84 89.34 128.85 88.51 128.86 88.09 C 129.10 84.34 129.00 80.58 128.99 76.83 C 128.99 76.36 128.99 75.42 128.99 74.94 C 129.00 71.63 129.10 68.31 128.89 65.01 L 128.79 64.04 C 128.79 63.60 128.79 62.72 128.79 62.28 L 128.96 62.44 C 129.03 58.77 128.99 55.09 128.99 51.42 C 128.99 50.97 128.99 50.07 128.99 49.62 C 129.00 48.50 129.00 46.25 129.00 45.13 Z"],"p1":[],"pt1":[" M 124.79 44.89 C 125.27 44.50 126.24 43.72 126.72 43.33 C 127.48 43.93 128.24 44.53 129.00 45.13 C 129.00 46.25 129.00 48.50 128.99 49.62 C 127.63 48.01 126.22 46.44 124.79 44.89 Z"," M 119.17 50.93 C 122.01 50.10 124.68 51.83 127.19 52.90 C 127.64 52.53 128.54 51.79 128.99 51.42 C 128.99 55.09 129.03 58.77 128.96 62.44 L 128.79 62.28 C 125.87 58.22 120.94 56.77 117.02 53.98 C 117.69 52.93 118.40 51.91 119.17 50.93 Z"," M 113.15 58.03 C 117.85 60.45 122.10 63.70 126.97 65.79 L 127.78 65.24 L 128.22 62.94 C 128.36 63.22 128.65 63.77 128.79 64.04 L 128.89 65.01 C 129.10 68.31 129.00 71.63 128.99 74.94 C 123.84 68.67 115.12 67.36 109.16 62.07 C 110.37 60.61 111.72 59.28 113.15 58.03 Z"," M 101.48 70.87 C 102.47 69.43 103.54 68.05 104.66 66.71 C 112.87 69.66 119.45 75.68 127.49 78.98 C 127.87 78.44 128.61 77.37 128.99 76.83 C 129.00 80.58 129.10 84.34 128.86 88.09 L 128.43 88.03 C 127.10 85.21 124.49 83.46 121.70 82.29 C 114.53 79.30 108.27 74.60 101.48 70.87 Z"," M 93.58 78.70 C 94.80 77.24 95.91 75.49 97.79 74.83 C 105.60 79.50 113.30 84.37 121.33 88.65 C 123.33 89.67 125.37 90.75 127.63 91.07 C 127.93 90.74 128.53 90.09 128.83 89.76 C 129.04 93.34 129.03 96.93 129.01 100.52 C 125.62 97.10 120.97 95.56 116.98 93.01 C 109.19 88.24 101.21 83.74 93.58 78.70 Z"," M 85.96 87.20 C 87.14 85.57 88.76 83.98 90.98 84.52 C 96.33 85.40 100.57 89.12 105.04 91.92 C 112.18 96.50 119.68 100.46 127.12 104.51 C 127.59 103.96 128.53 102.86 129.00 102.30 C 129.00 123.07 128.99 143.84 129.01 164.60 C 126.37 162.19 123.07 160.76 120.01 158.99 C 98.15 146.37 76.33 133.68 54.73 120.62 C 55.54 119.29 56.36 117.97 57.19 116.65 C 58.94 117.22 60.69 117.83 62.28 118.76 C 83.75 131.69 105.58 143.99 127.45 156.21 C 127.71 154.41 128.34 152.41 127.17 150.78 C 124.66 146.79 119.87 145.38 115.97 143.16 C 97.97 132.96 79.98 122.74 61.91 112.69 C 63.20 111.04 64.59 109.47 66.09 108.01 C 86.68 119.82 106.86 132.40 128.05 143.13 C 128.25 141.01 128.70 138.59 126.94 136.96 C 123.86 133.69 119.17 132.85 115.42 130.59 C 100.15 121.77 84.92 112.87 69.78 103.83 C 71.08 102.58 72.41 101.37 73.78 100.20 C 92.30 109.32 109.17 121.49 127.96 130.09 C 129.30 127.00 127.49 123.80 124.74 122.27 C 115.50 117.15 106.25 112.04 97.00 106.94 C 90.58 103.13 83.84 99.79 77.93 95.17 C 79.18 93.89 80.46 92.66 81.77 91.45 C 97.02 100.15 112.13 109.11 127.42 117.73 C 129.24 115.42 128.96 112.17 126.24 110.73 C 113.10 102.42 98.75 96.09 85.96 87.20 Z"," M 46.58 128.64 C 47.89 127.28 49.25 125.97 50.66 124.71 C 75.66 140.17 101.87 153.57 126.80 169.16 C 127.53 168.30 128.27 167.44 129.00 166.58 C 128.99 177.49 129.01 188.40 128.99 199.31 C 96.52 181.08 63.75 163.34 31.61 144.49 C 32.50 143.62 33.39 142.75 34.28 141.87 C 58.42 154.21 81.28 168.84 104.97 182.01 C 112.67 186.42 120.15 191.42 128.63 194.24 C 128.91 191.81 128.56 189.09 126.31 187.66 C 96.78 171.55 68.04 153.97 38.57 137.72 C 39.37 136.43 40.13 135.10 41.19 134.00 C 45.49 133.46 48.88 136.77 52.44 138.64 C 77.53 152.86 102.08 168.02 127.45 181.76 C 127.92 180.30 129.24 178.77 128.44 177.19 C 127.28 175.47 125.53 174.30 123.81 173.23 C 98.21 158.11 71.49 144.90 46.58 128.64 Z"],"pto2":[]},"star":{"size":256,"p2":[" M 103.67 102.87 C 111.93 88.33 119.83 73.57 128.16 59.07 C 136.43 73.98 144.49 89.00 152.75 103.92 C 169.50 107.42 186.39 110.28 203.09 113.96 C 191.18 126.14 179.74 138.77 167.88 151.00 C 169.97 168.04 171.95 185.09 174.14 202.11 C 158.76 194.55 143.15 187.46 127.69 180.04 C 112.19 187.30 96.76 194.77 81.04 201.55 C 83.85 184.94 85.23 168.07 87.88 151.43 C 83.51 145.45 77.79 140.66 73.03 135.01 C 66.25 127.73 59.41 120.51 52.76 113.12 C 68.53 110.67 84.16 107.25 99.89 104.48 C 101.17 104.07 102.97 104.26 103.67 102.87 Z"],"p1":[" M 95.65 93.69 C 106.62 74.28 117.35 54.73 128.16 35.23 C 138.89 54.74 149.57 74.27 160.24 93.81 C 182.00 97.95 203.71 102.36 225.47 106.47 C 223.78 109.06 221.35 111.02 219.28 113.28 C 206.18 127.20 193.15 141.19 179.91 154.98 C 182.62 177.09 185.25 199.22 188.08 221.32 C 167.95 211.85 147.89 202.24 127.74 192.82 C 107.54 202.08 87.51 211.71 67.21 220.74 C 70.19 198.89 72.71 176.97 75.78 155.13 C 60.98 138.48 45.29 122.63 30.49 105.97 C 52.20 101.83 73.91 97.65 95.65 93.69 M 103.67 102.87 C 102.97 104.26 101.17 104.07 99.89 104.48 C 84.16 107.25 68.53 110.67 52.76 113.12 C 59.41 120.51 66.25 127.73 73.03 135.01 C 77.79 140.66 83.51 145.45 87.88 151.43 C 85.23 168.07 83.85 184.94 81.04 201.55 C 96.76 194.77 112.19 187.30 127.69 180.04 C 143.15 187.46 158.76 194.55 174.14 202.11 C 171.95 185.09 169.97 168.04 167.88 151.00 C 179.74 138.77 191.18 126.14 203.09 113.96 C 186.39 110.28 169.50 107.42 152.75 103.92 C 144.49 89.00 136.43 73.98 128.16 59.07 C 119.83 73.57 111.93 88.33 103.67 102.87 Z"],"pt1":[],"pto2":[]},"turtle":{"size":256,"p2":[" M 138.09 62.86 C 134.63 58.98 133.64 51.73 138.25 48.34 C 141.71 46.72 142.23 50.74 143.02 53.06 C 144.13 56.57 143.55 60.33 142.11 63.65 C 140.75 63.46 139.41 63.20 138.09 62.86 Z"," M 112.88 61.40 C 112.08 56.83 112.01 52.05 114.64 48.02 C 120.00 49.95 118.75 57.32 117.05 61.53 L 117.04 61.54 L 115.86 62.82 C 115.11 62.46 113.62 61.75 112.88 61.40 Z"," M 117.97 69.89 C 124.07 67.91 130.84 68.18 137.01 69.74 C 136.08 72.19 136.26 76.33 132.79 76.63 C 129.18 77.00 125.53 76.89 121.91 76.65 C 118.67 76.14 118.63 72.37 117.97 69.89 Z"," M 100.34 78.80 C 104.43 74.14 110.79 72.86 116.18 70.31 C 116.80 72.68 119.63 75.26 117.65 77.61 C 115.08 79.04 112.25 80.00 109.89 81.80 C 108.65 82.88 106.95 82.67 105.44 82.76 L 105.60 84.30 C 103.16 83.24 102.10 80.63 100.34 78.80 Z"," M 138.81 70.35 C 144.22 72.84 150.56 74.17 154.66 78.80 C 152.86 80.57 151.64 82.90 149.50 84.30 L 149.32 82.77 C 145.93 83.27 143.71 80.47 140.76 79.38 C 138.80 78.59 136.79 77.61 136.20 75.38 C 137.10 73.72 137.96 72.03 138.81 70.35 Z"," M 113.30 80.53 C 119.22 77.14 126.34 77.35 132.92 77.85 C 136.67 78.30 141.05 79.19 143.09 82.74 C 139.40 87.75 136.39 93.49 131.40 97.36 C 135.15 98.37 137.32 101.87 138.78 105.20 C 139.21 108.75 137.10 111.92 135.85 115.09 C 131.28 117.27 125.96 116.55 121.11 115.99 C 118.34 115.25 117.77 112.10 116.72 109.85 C 114.35 104.67 118.82 99.32 123.32 97.14 C 119.39 94.86 117.68 90.48 114.81 87.18 C 113.47 85.20 110.64 82.69 113.30 80.53 Z"," M 88.35 90.01 C 91.67 86.38 95.22 82.95 99.00 79.80 C 100.41 81.66 101.82 83.52 103.12 85.47 C 100.58 88.60 97.86 91.58 95.14 94.54 C 92.96 92.90 90.53 91.64 88.35 90.01 Z"," M 151.75 85.67 C 153.02 83.59 154.43 81.62 155.93 79.70 C 159.51 83.07 163.24 86.29 166.53 89.97 C 164.30 91.51 162.01 92.94 159.76 94.43 C 157.07 91.52 154.31 88.69 151.75 85.67 Z"," M 106.16 83.63 C 107.48 83.60 108.80 83.54 110.12 83.47 C 113.36 88.20 118.31 91.61 120.62 96.98 C 118.48 99.06 116.80 101.54 115.03 103.92 C 108.54 102.48 102.33 99.72 95.61 99.19 C 97.12 92.83 102.60 88.79 106.16 83.63 Z"," M 134.28 96.85 C 136.65 91.57 141.43 88.13 144.69 83.48 C 146.07 83.55 147.45 83.58 148.83 83.60 C 152.06 88.93 157.93 92.76 159.04 99.24 C 152.77 99.84 146.83 101.93 140.92 103.94 C 137.74 102.83 136.75 98.94 134.28 96.85 Z"," M 77.52 111.73 C 79.20 104.36 83.49 97.97 87.90 91.97 C 90.15 93.65 94.45 93.78 94.95 97.01 C 93.28 102.26 90.23 106.99 88.73 112.32 C 84.96 113.07 81.29 111.65 77.52 111.73 Z"," M 160.44 95.35 C 162.42 93.95 164.75 93.14 166.89 92.01 C 171.05 98.13 175.90 104.24 177.48 111.63 C 173.70 111.70 170.00 112.77 166.21 112.54 C 164.86 108.51 163.31 104.54 161.33 100.77 C 160.66 99.11 159.23 97.09 160.44 95.35 Z"," M 91.06 110.06 C 92.02 106.74 92.32 102.24 96.05 100.80 C 100.90 100.20 105.41 102.37 109.85 103.97 C 115.57 105.44 116.85 112.15 118.15 117.08 C 116.21 121.52 112.07 124.44 108.82 127.87 C 102.69 127.52 96.49 129.23 90.48 127.47 C 89.58 121.69 89.39 115.73 91.06 110.06 Z"," M 143.52 104.58 C 148.53 102.83 153.57 99.98 159.07 100.92 C 160.42 101.53 161.56 102.73 162.15 104.09 C 164.50 111.59 166.23 119.65 164.26 127.44 C 158.36 129.27 152.27 127.53 146.25 127.89 C 143.12 125.29 140.24 122.38 137.73 119.19 C 135.75 116.86 137.59 113.84 138.34 111.41 C 139.54 108.86 140.48 105.50 143.52 104.58 Z"," M 75.51 126.14 C 76.22 121.66 75.37 116.61 77.66 112.58 C 81.36 112.56 85.68 112.45 88.74 114.83 C 87.96 120.58 89.00 126.37 88.51 132.14 C 84.56 133.30 80.36 134.43 76.24 133.71 C 74.24 131.73 75.72 128.61 75.51 126.14 Z"," M 166.41 114.48 C 169.52 112.13 173.67 112.82 177.31 112.44 C 177.57 112.89 178.08 113.79 178.34 114.24 C 178.93 119.84 179.27 125.47 179.68 131.09 C 179.95 132.58 178.61 134.43 176.99 134.09 C 173.76 133.85 170.43 133.59 167.38 132.45 C 165.51 131.33 166.30 128.89 166.21 127.12 C 166.52 122.91 166.17 118.66 166.41 114.48 Z"," M 58.24 114.03 C 61.03 113.58 61.11 117.31 62.20 119.03 C 62.96 121.02 63.95 122.90 64.83 124.83 C 64.18 125.31 62.86 126.26 62.20 126.73 C 60.15 124.84 57.75 123.40 55.56 121.69 C 54.49 120.60 53.56 119.40 52.63 118.19 C 54.43 116.72 56.14 115.08 58.24 114.03 Z"," M 63.31 115.01 C 64.11 114.59 65.73 113.73 66.54 113.30 C 67.80 115.01 69.56 116.71 69.49 119.00 C 68.94 120.44 67.83 121.53 66.88 122.70 C 66.40 122.47 65.45 122.03 64.97 121.80 C 64.08 119.63 63.14 117.42 63.31 115.01 Z"," M 187.91 113.64 C 188.58 113.72 189.91 113.86 190.58 113.94 L 191.25 114.16 C 192.33 117.26 190.64 120.26 189.20 122.93 C 187.29 122.35 185.86 120.81 185.30 118.91 C 185.25 116.84 186.86 115.27 187.91 113.64 Z"," M 193.88 116.28 C 194.32 115.61 195.20 114.29 195.63 113.62 C 197.98 114.80 200.10 116.37 202.01 118.17 C 200.38 122.35 195.73 123.62 192.83 126.69 C 192.14 126.27 190.75 125.42 190.06 125.00 C 190.83 123.27 191.64 121.56 192.41 119.83 C 192.92 118.65 193.40 117.46 193.88 116.28 Z"," M 118.68 118.58 C 120.73 116.06 124.31 117.46 127.07 117.14 C 130.13 117.54 134.00 115.96 136.32 118.68 C 139.07 121.70 141.62 124.90 144.25 128.02 C 142.47 131.56 139.55 134.30 137.39 137.59 C 136.62 138.50 136.12 139.77 134.93 140.21 C 129.82 141.01 124.55 140.96 119.45 140.14 C 116.49 136.17 113.23 132.40 110.61 128.20 C 113.10 124.83 115.86 121.67 118.68 118.58 Z"," M 200.17 125.39 C 201.52 123.56 201.76 120.59 204.19 119.82 L 204.64 119.92 C 206.88 121.34 209.20 123.14 208.12 126.13 C 207.38 126.79 206.66 127.47 205.96 128.18 C 205.68 128.42 205.13 128.91 204.85 129.16 C 204.70 129.26 204.40 129.47 204.25 129.58 C 203.65 129.92 202.44 130.62 201.84 130.97 C 200.93 131.46 200.01 131.94 199.08 132.40 C 195.83 130.46 199.10 127.59 200.17 125.39 Z"," M 46.44 123.94 C 46.70 121.42 49.58 120.87 51.32 119.67 C 51.89 120.54 52.44 121.41 52.99 122.30 C 54.53 125.09 56.19 127.80 57.78 130.57 C 56.98 131.11 56.17 131.65 55.36 132.19 C 53.91 131.34 52.46 130.48 50.99 129.66 L 50.69 129.48 L 50.54 129.39 L 50.39 129.27 C 48.72 127.83 46.33 126.49 46.44 123.94 Z"," M 40.69 131.78 C 41.94 130.12 43.31 128.55 44.92 127.24 C 47.06 129.68 49.20 132.17 51.84 134.10 C 51.84 134.68 51.84 135.85 51.84 136.43 C 51.18 136.64 49.84 137.06 49.17 137.27 C 47.23 135.42 44.62 134.77 42.21 133.79 C 41.83 133.29 41.07 132.28 40.69 131.78 Z"," M 203.03 135.06 C 205.09 132.31 207.64 129.99 210.00 127.50 C 212.06 128.52 213.67 130.21 214.24 132.48 C 211.90 134.30 209.00 135.09 206.46 136.57 C 206.02 136.82 205.14 137.34 204.70 137.59 C 204.02 136.81 203.47 135.97 203.03 135.06 Z"," M 90.85 128.60 C 93.95 128.46 96.85 129.73 99.92 129.83 C 103.03 129.97 106.14 129.67 109.24 129.49 C 112.58 133.05 116.19 136.67 118.29 141.11 C 116.90 144.52 115.49 148.26 112.71 150.78 C 107.82 153.50 102.56 155.51 97.42 157.70 C 96.29 156.43 95.02 155.21 94.36 153.61 C 92.03 148.27 90.18 142.72 89.05 137.00 C 88.45 134.07 89.61 131.19 90.85 128.60 Z"," M 145.76 129.48 C 151.18 130.02 156.73 130.21 161.98 128.55 C 164.17 128.01 164.91 130.47 165.41 132.08 C 166.75 136.61 164.76 141.16 163.60 145.49 C 162.02 149.74 160.90 154.46 157.50 157.69 C 152.15 155.44 146.59 153.47 141.63 150.40 C 139.49 147.95 138.11 144.91 136.92 141.91 C 136.30 140.55 137.31 139.16 138.15 138.16 C 140.63 135.22 142.69 131.87 145.76 129.48 Z"," M 166.53 134.68 C 170.62 133.35 174.88 135.08 178.89 135.99 C 179.08 138.45 179.62 141.07 178.52 143.41 C 176.51 147.99 175.56 152.96 173.26 157.42 C 170.27 154.73 166.38 153.49 163.19 151.11 C 164.06 145.59 167.40 140.41 166.53 134.68 Z"," M 76.19 136.08 C 79.92 134.55 84.03 134.01 88.04 134.20 C 87.81 140.09 90.50 145.45 91.60 151.11 C 88.43 153.54 84.61 154.91 81.42 157.33 C 79.43 152.81 78.20 148.01 76.35 143.44 C 75.36 141.11 75.45 138.46 76.19 136.08 Z"," M 37.09 138.84 C 37.40 137.10 39.20 136.19 40.21 134.90 C 42.43 136.55 44.29 138.63 45.82 140.93 C 45.33 141.41 44.35 142.36 43.86 142.83 C 43.33 142.72 42.29 142.50 41.76 142.39 C 41.46 142.19 40.86 141.77 40.56 141.56 C 39.26 140.85 37.89 140.15 37.09 138.84 Z"," M 213.73 135.45 C 215.51 134.99 216.89 136.82 217.66 138.17 C 218.11 140.26 215.64 140.75 214.29 141.52 C 213.96 141.70 213.30 142.05 212.97 142.23 C 212.54 142.40 211.68 142.74 211.25 142.91 C 210.54 142.23 209.82 141.54 209.11 140.86 C 209.25 140.60 209.52 140.09 209.66 139.83 L 209.90 139.38 C 211.18 138.07 212.35 136.65 213.73 135.45 Z"," M 120.04 140.85 C 124.98 140.88 129.93 141.24 134.87 140.70 C 137.50 144.43 140.62 148.27 141.00 152.99 C 139.14 156.32 136.71 159.48 133.84 162.02 C 129.69 162.95 125.10 162.93 120.94 162.02 C 118.27 159.33 115.61 156.48 113.83 153.11 C 114.43 148.42 117.11 144.42 120.04 140.85 Z"," M 38.73 146.45 C 37.15 145.04 34.77 142.73 37.77 141.37 C 38.19 141.84 39.03 142.77 39.44 143.24 C 39.72 143.49 40.26 144.00 40.53 144.25 C 41.05 145.68 40.28 146.94 38.73 146.45 Z"," M 215.43 143.09 C 216.22 142.06 217.23 141.68 218.48 141.95 C 218.98 144.53 216.60 146.17 214.42 146.77 C 214.39 146.09 214.32 144.73 214.29 144.05 C 214.58 143.81 215.15 143.33 215.43 143.09 Z"," M 30.58 148.84 C 31.80 147.59 32.78 146.15 33.89 144.81 C 35.09 145.49 36.29 146.18 37.49 146.86 C 36.73 149.40 33.90 151.55 32.36 147.61 C 32.61 148.58 33.09 150.52 33.33 151.50 L 31.68 150.69 C 31.56 150.56 31.31 150.28 31.19 150.14 L 30.58 148.84 Z"," M 217.29 146.84 C 218.44 146.17 219.60 145.53 220.78 144.91 C 221.32 145.36 222.41 146.26 222.96 146.72 C 222.47 147.52 221.49 149.12 221.00 149.92 C 219.00 149.97 218.13 148.37 217.29 146.84 Z"," M 223.14 148.05 C 224.69 148.21 223.77 150.61 222.66 150.82 C 221.14 150.66 222.04 148.26 223.14 148.05 Z"," M 82.36 157.94 C 85.43 156.59 87.84 153.99 90.99 152.90 C 92.80 152.40 93.71 154.16 94.63 155.34 C 96.29 157.69 97.26 160.41 98.09 163.13 C 95.21 165.84 91.30 166.87 88.19 169.25 C 85.50 166.09 81.64 162.44 82.36 157.94 Z"," M 99.24 158.27 C 103.36 156.60 107.27 153.62 111.71 153.16 C 114.71 156.24 119.06 159.33 119.44 163.87 C 117.30 169.02 115.00 174.14 112.11 178.91 C 107.34 176.50 104.19 171.90 101.18 167.65 C 99.48 164.86 96.31 161.38 99.24 158.27 Z"," M 135.35 163.10 C 136.77 158.80 140.46 155.52 143.91 152.70 C 147.74 154.80 151.92 156.21 155.69 158.40 C 156.31 159.25 156.78 160.19 157.30 161.10 C 158.69 158.15 159.92 154.24 163.05 152.85 C 166.75 153.61 169.67 156.54 172.82 158.55 C 172.53 162.81 169.36 166.17 166.65 169.22 C 164.29 168.04 162.26 165.66 159.54 165.52 C 161.62 167.48 164.00 169.07 166.37 170.65 C 164.50 174.60 161.75 178.17 158.08 180.59 C 155.72 178.47 153.37 176.34 151.27 173.96 C 153.06 170.38 154.92 166.45 158.52 164.35 C 157.83 163.78 157.14 163.21 156.46 162.63 C 154.07 167.81 150.54 172.45 146.44 176.40 C 145.40 177.26 144.43 178.48 142.98 178.60 C 140.88 177.01 140.25 174.23 139.04 172.00 C 137.91 169.00 135.94 166.26 135.35 163.10 Z"," M 120.99 164.14 C 125.17 162.85 129.71 162.93 133.90 164.16 C 136.15 170.17 139.32 175.80 141.26 181.93 C 137.32 187.19 130.90 191.45 124.09 190.05 C 120.00 188.23 116.34 185.50 113.56 181.98 C 115.51 175.83 118.73 170.18 120.99 164.14 Z"," M 97.08 164.39 C 99.82 167.14 102.08 170.34 103.56 173.94 C 101.50 176.26 99.26 178.44 96.86 180.42 C 92.93 178.25 89.87 174.50 88.68 170.15 C 91.96 168.95 94.14 166.13 97.08 164.39 Z"," M 97.53 181.55 C 100.05 178.95 102.35 175.90 105.83 174.52 C 108.62 177.72 112.40 180.34 113.61 184.63 C 111.08 186.92 109.72 190.17 107.71 192.88 C 107.22 192.71 106.23 192.35 105.73 192.17 L 105.16 191.85 L 104.66 191.42 L 104.17 191.02 C 101.57 188.17 98.31 185.54 97.53 181.55 Z"," M 149.10 174.47 C 152.56 176.02 154.92 179.07 157.47 181.76 C 155.60 186.51 152.12 190.77 147.48 193.02 C 145.18 190.22 143.43 187.01 141.05 184.26 C 142.87 180.34 146.14 177.51 149.10 174.47 Z"," M 113.93 185.43 C 116.89 186.98 119.81 188.69 122.22 191.04 C 122.21 194.14 120.78 197.13 119.23 199.76 C 115.62 198.31 112.53 196.08 109.32 193.95 C 110.00 190.72 111.87 187.93 113.93 185.43 Z"," M 132.58 190.93 C 135.20 188.69 138.11 186.88 141.16 185.30 C 142.93 187.99 144.61 190.79 145.57 193.89 C 142.52 196.23 139.29 198.23 135.76 199.77 C 133.74 197.27 133.08 194.02 132.58 190.93 Z"," M 123.38 191.23 C 125.91 191.01 128.47 191.19 130.99 190.75 C 132.59 193.54 133.82 196.62 134.51 199.75 C 132.49 202.47 128.94 204.57 125.45 203.67 C 123.57 202.60 121.79 201.36 120.10 200.03 C 121.16 197.08 122.16 194.11 123.38 191.23 Z"," M 95.29 195.89 C 96.62 196.11 97.98 196.39 99.06 197.28 C 99.28 197.53 99.73 198.04 99.96 198.29 C 99.69 199.48 99.43 200.67 99.18 201.87 C 98.06 202.45 96.93 203.02 95.81 203.58 C 94.12 201.20 94.14 198.49 95.29 195.89 Z"," M 155.42 201.74 C 154.08 198.62 156.84 195.10 160.20 196.06 C 160.92 198.65 160.72 201.27 159.22 203.57 C 157.94 202.97 156.68 202.36 155.42 201.74 Z"," M 85.85 199.17 C 87.23 198.51 88.61 197.66 90.21 197.79 L 90.87 198.08 C 92.83 200.92 94.24 205.75 90.78 208.07 C 87.81 205.98 85.17 203.10 85.85 199.17 Z"," M 163.23 199.10 C 164.75 198.43 166.77 197.21 168.16 198.82 C 170.01 200.58 168.56 203.23 168.32 205.33 C 166.84 205.98 165.45 206.79 164.04 207.56 C 160.37 206.47 162.26 201.63 163.23 199.10 Z"," M 78.98 200.54 C 82.76 202.15 84.85 206.00 85.65 209.86 C 84.14 212.26 81.62 213.27 78.87 213.38 C 75.97 209.50 76.56 204.49 78.98 200.54 Z"," M 170.83 205.22 C 172.15 203.63 173.60 200.62 175.99 201.24 C 179.00 204.79 178.18 209.58 176.09 213.34 C 173.37 213.18 170.67 212.46 169.21 209.94 C 169.46 209.09 169.96 207.37 170.21 206.51 C 170.37 206.19 170.68 205.54 170.83 205.22 Z"," M 71.06 203.99 C 71.19 203.82 71.44 203.48 71.57 203.31 C 73.11 201.69 75.21 202.80 75.37 204.81 C 75.84 206.77 75.76 208.80 75.97 210.80 L 76.01 211.30 C 75.02 211.93 74.01 212.52 72.97 213.06 C 70.04 211.16 69.57 206.94 71.06 203.99 Z"," M 180.10 203.06 C 180.85 202.98 182.35 202.82 183.10 202.74 C 183.72 203.75 184.34 204.76 184.96 205.78 C 184.44 208.16 184.14 214.16 180.47 212.53 C 177.90 210.09 179.47 206.04 180.10 203.06 Z"],"p1":[" M 119.62 38.67 C 121.79 36.62 123.87 34.48 125.83 32.24 C 128.37 34.70 131.24 36.80 133.67 39.37 C 135.77 41.89 137.29 44.82 139.20 47.47 L 138.25 48.34 C 133.64 51.73 134.63 58.98 138.09 62.86 L 138.86 63.91 C 137.97 65.00 137.08 66.10 136.20 67.21 C 132.33 67.24 128.46 67.55 124.60 67.30 C 126.13 65.30 128.85 65.53 131.03 64.79 C 128.63 64.93 126.02 64.89 123.96 66.32 C 120.55 66.20 117.22 66.92 113.99 67.91 C 113.92 66.62 113.86 65.34 113.80 64.05 C 114.68 63.58 115.56 63.10 116.44 62.62 L 117.04 61.54 L 117.05 61.53 C 119.77 58.69 119.41 54.47 118.61 50.92 C 118.37 49.12 116.52 48.54 115.20 47.72 C 116.83 44.77 116.90 40.94 119.62 38.67 Z"," M 136.56 67.18 C 138.01 65.95 139.46 64.72 141.06 63.67 C 141.06 65.22 141.05 66.76 141.03 68.30 C 139.54 67.92 138.05 67.54 136.56 67.18 Z"," M 66.44 92.55 C 70.15 91.91 73.66 90.55 76.79 88.45 C 79.75 89.18 83.99 88.71 85.44 92.08 C 85.09 93.62 83.88 94.74 83.11 96.07 C 79.35 102.15 77.17 109.01 74.41 115.56 C 73.80 117.39 71.95 117.37 70.35 117.19 C 69.54 115.79 68.84 114.24 67.58 113.18 C 66.09 112.71 64.69 113.91 63.27 114.26 C 62.93 115.85 62.58 117.45 62.20 119.03 C 61.11 117.31 61.03 113.58 58.24 114.03 C 56.14 115.08 54.43 116.72 52.63 118.19 C 53.56 119.40 54.49 120.60 55.56 121.69 C 54.70 121.89 53.84 122.10 52.99 122.30 C 52.44 121.41 51.89 120.54 51.32 119.67 C 49.58 120.87 46.70 121.42 46.44 123.94 C 46.33 126.49 48.72 127.83 50.39 129.27 L 50.53 129.39 L 50.69 129.48 L 50.99 129.66 C 53.13 130.57 53.94 132.18 53.42 134.51 C 53.02 134.40 52.23 134.20 51.84 134.10 C 49.20 132.17 47.06 129.68 44.92 127.24 C 43.31 128.55 41.94 130.12 40.69 131.78 C 41.07 132.28 41.83 133.29 42.21 133.79 L 42.92 134.74 C 44.64 135.42 46.38 136.05 48.11 136.69 C 47.59 137.41 46.55 138.87 46.03 139.60 C 43.95 137.89 42.19 133.60 39.02 135.15 C 37.35 136.25 35.35 138.53 37.02 140.52 C 36.32 141.90 35.71 143.32 35.71 144.90 C 34.34 144.50 33.00 144.97 31.68 145.25 C 31.21 146.57 30.74 147.88 30.29 149.20 L 31.19 150.14 C 31.31 150.28 31.56 150.56 31.68 150.69 C 32.59 153.36 29.43 152.51 28.16 151.75 C 27.18 150.26 26.59 148.56 25.82 146.95 C 27.01 142.38 29.36 138.25 30.78 133.75 C 33.94 124.17 42.13 117.61 47.27 109.20 C 49.43 105.49 53.14 103.16 55.90 99.97 C 58.52 96.39 62.92 95.03 66.44 92.55 Z"," M 168.98 92.34 C 170.98 89.16 174.80 88.92 178.17 88.49 C 181.30 90.61 184.85 91.84 188.51 92.60 C 191.76 95.03 196.00 96.14 198.51 99.48 C 201.12 102.81 205.02 104.93 207.24 108.59 C 211.46 115.59 217.44 121.34 221.73 128.30 C 223.61 131.69 224.48 135.51 226.09 139.02 C 227.11 141.58 228.55 144.06 228.83 146.85 C 228.29 148.59 227.55 150.26 226.91 151.96 C 225.85 152.07 223.74 152.29 222.69 152.39 C 226.11 149.37 223.42 143.27 218.82 144.73 C 219.13 143.12 218.84 141.66 217.63 140.55 C 219.79 137.63 215.20 132.96 212.44 135.58 C 211.16 136.49 210.60 138.03 209.90 139.38 L 209.66 139.83 C 208.55 138.78 207.48 137.70 206.46 136.57 C 209.00 135.09 211.90 134.30 214.24 132.48 L 215.11 131.87 C 214.09 130.39 213.29 128.50 211.48 127.83 C 210.60 127.19 208.95 127.07 208.88 125.70 C 209.92 122.80 207.39 120.21 204.64 119.92 L 204.19 119.82 C 203.77 119.74 202.95 119.58 202.54 119.50 C 202.36 116.14 198.65 114.27 195.75 113.59 C 193.98 112.77 194.47 115.38 193.88 116.28 C 193.40 117.46 192.92 118.65 192.41 119.83 C 192.29 118.02 192.14 116.22 192.00 114.41 L 191.25 114.16 L 190.58 113.94 C 189.42 113.72 187.63 112.17 186.81 113.81 C 185.82 114.93 184.99 116.17 184.00 117.29 C 182.50 117.60 180.75 117.10 180.35 115.46 C 177.25 107.47 174.63 98.98 168.98 92.34 Z"," M 54.55 124.10 C 55.04 123.59 55.53 123.08 56.03 122.58 C 57.53 124.03 59.15 125.35 60.79 126.66 C 60.04 127.22 58.54 128.34 57.79 128.90 C 56.75 127.27 55.69 125.66 54.55 124.10 Z"," M 194.16 126.78 C 196.55 124.55 199.22 122.66 201.91 120.82 C 200.43 123.58 198.87 126.29 197.21 128.95 C 196.45 128.41 194.93 127.32 194.16 126.78 Z"," M 205.96 128.18 C 206.43 128.30 207.36 128.54 207.82 128.66 C 206.06 130.33 204.38 132.09 202.78 133.93 C 202.35 133.48 201.49 132.59 201.06 132.14 L 201.84 130.97 C 202.44 130.62 203.65 129.92 204.25 129.58 L 204.58 129.41 L 204.85 129.16 C 205.13 128.91 205.68 128.42 205.96 128.18 Z"," M 39.44 143.24 C 39.72 142.82 40.28 141.98 40.56 141.56 C 40.86 141.77 41.46 142.19 41.76 142.39 C 41.46 142.86 40.84 143.79 40.53 144.25 C 40.26 144.00 39.72 143.49 39.44 143.24 Z"," M 212.97 142.23 C 213.30 142.05 213.96 141.70 214.29 141.52 C 214.58 141.91 215.15 142.69 215.43 143.09 C 215.15 143.33 214.58 143.81 214.29 144.05 C 213.96 143.59 213.30 142.69 212.97 142.23 Z"," M 79.55 177.67 C 81.66 175.66 83.83 173.19 86.94 172.96 C 92.69 178.96 97.72 185.61 103.64 191.45 C 104.02 191.55 104.78 191.75 105.16 191.85 L 105.73 192.17 C 106.17 192.85 106.42 193.60 106.48 194.41 C 103.95 195.12 101.44 195.97 99.96 198.29 C 99.73 198.04 99.28 197.53 99.06 197.28 L 98.31 196.41 C 97.45 195.90 96.59 195.40 95.73 194.91 C 93.88 196.73 94.03 199.41 93.90 201.81 C 93.15 200.80 92.57 199.72 92.14 198.54 C 91.83 198.43 91.19 198.20 90.87 198.08 L 90.21 197.79 C 89.95 197.58 89.42 197.16 89.16 196.95 C 87.81 197.75 85.54 197.96 85.39 199.93 C 85.01 202.45 86.52 204.77 87.07 207.16 C 83.76 205.95 83.24 201.39 79.78 200.13 C 77.25 200.69 77.16 203.81 76.58 205.75 C 75.99 204.52 75.39 203.30 74.79 202.07 C 74.19 202.10 72.98 202.15 72.37 202.17 L 71.57 203.31 C 71.44 203.48 71.19 203.82 71.06 203.99 C 70.56 204.52 69.55 205.59 69.04 206.13 C 66.77 199.74 69.55 193.08 72.18 187.28 C 73.66 183.41 76.79 180.62 79.55 177.67 Z"," M 166.97 174.05 C 167.70 172.64 169.29 172.95 170.43 173.64 C 179.81 180.01 186.31 190.61 186.74 202.06 C 186.56 203.41 186.29 204.75 185.94 206.07 C 184.46 204.37 182.98 200.71 180.13 202.47 C 179.75 203.19 178.99 204.64 178.61 205.36 C 177.90 203.66 177.18 201.99 176.43 200.32 C 173.66 200.61 171.47 202.48 170.83 205.22 C 170.68 205.54 170.37 206.19 170.21 206.51 C 169.72 206.65 168.72 206.93 168.22 207.07 C 168.87 204.12 171.34 200.24 168.11 197.97 C 164.91 196.13 162.47 199.25 160.92 201.62 C 160.97 199.16 161.40 196.39 159.18 194.71 C 157.53 195.76 155.89 196.83 154.25 197.90 C 153.05 195.56 150.58 195.00 148.26 194.41 C 154.84 187.95 161.08 181.14 166.97 174.05 Z"," M 127.23 212.46 C 127.33 210.24 124.71 206.06 128.07 205.55 C 130.71 207.14 128.59 210.65 127.23 212.46 Z"," M 177.98 210.34 C 181.30 210.49 176.35 213.31 177.98 210.34 Z"," M 75.97 210.80 C 75.98 210.92 76.00 211.17 76.01 211.30 L 75.97 210.80 Z"],"pt1":[],"pto2":[]}}
  }

  init(id, size, bgColor) {
    this.paper = Raphael(id, size, size);

    // used for shadow over color
    this.pto2_color = '#000000';
    this.pto2_op = 0.3;

    // used for cross color transparency
    this.pt1_op = 0.3;

    // used for emblem background
    this.bg_op = 1;

    // paper background
    this.bg_color = bgColor || '';
    this.bg_img = 'assets/img_bg.png';

    // config required for transformation
    this.base_size = 256;
    this.flip = 0; // 1 - flipV_Bg, 2 - flipH_Bg, 4 - flipV_Fg, 8 - flipH_Fg

    return this;
  }

  drawEmblemObj (EGobj) {
    this.setFlipsEG(EGobj.flags);

    var colorBg = this.color_defs[EGobj.background_color_id] || '#000000',
      color1 = this.color_defs[EGobj.foreground_secondary_color_id] || '#FFFFFF',
      color2 = this.color_defs[EGobj.foreground_primary_color_id] || '#FF0000';

    var defFg = this.defs[EGobj.foreground_id] || '',
      defBg = this.bg_defs[EGobj.background_id] || '';

    this.drawEmblem(defFg, color1, color2, defBg, colorBg);
  }

  drawEmblem (defFg, color1, color2, defBg, colorBg) {
    var paper = this.paper;

    paper.clear();

    // set background
    if (this.bg_color !== '')
      paper.rect(0, 0, paper.width, paper.height).attr({'fill':this.bg_color, 'stroke':this.bg_color});
    else
      paper.image(this.bg_img, 0, 0, paper.width, paper.height);

    this.drawEmblemBg(defBg, colorBg);
    this.drawEmblemFg(defFg, color1, color2);
  }

  drawEmblemFg (def, color1, color2) {
    var paper = this.paper,
      i;

    var scale = paper.width / this.base_size,
      transformStr = (scale != 1) ? 's'.concat(scale, ',', scale, ',0,0') : '';

    if (this.flip > 3)
    {
      transformStr = transformStr.concat(' s',((this.flip & 8) !== 0) ? -1 : 1,',',((this.flip & 4) !== 0) ? -1 : 1,',',this.base_size/2,',',this.base_size/2);
    }

    this.paths = [];
    var paths = this.paths;
    if (def.p1)
    {
      for(i=0;i<def.p1.length;i++)
        paths[paths.length] = paper.path(def.p1[i]).attr({'fill':color1, 'stroke':'none'}).transform(transformStr);
    }

    if (def.p2)
    {
      for(i=0;i<def.p2.length;i++)
        paths[paths.length] = paper.path(def.p2[i]).attr({'fill':color2, 'stroke':'none'}).transform(transformStr);
    }

    if (def.pto2)
    {
      for(i=0;i<def.pto2.length;i++)
        paths[paths.length] = paper.path(def.pto2[i]).attr({'fill':this.pto2_color, 'stroke':'none', 'opacity':this.pto2_op}).transform(transformStr);
    }

    if (def.pt1)
    {
      for(i=0;i<def.pt1.length;i++)
        paths[paths.length] = paper.path(def.pt1[i]).attr({'fill':color1, 'stroke':'none', 'opacity':this.pt1_op}).transform(transformStr);
    }

    return paths;
  }

  drawEmblemBg (def, color) {
    var paper = this.paper,
      i,
      opacity = def.t ? this.bg_op : 1;

    var scale = paper.width / this.base_size,
      transformStr = (scale != 1) ? 's'.concat(scale, ',', scale, ',0,0') : '';

    if ((this.flip & 1) !== 0 || (this.flip & 2) !== 0)
    {
      transformStr = transformStr.concat(' s',((this.flip & 2) !== 0) ? -1 : 1,',',((this.flip & 1) !== 0) ? -1 : 1,',',this.base_size/2,',',this.base_size/2);
    }

    this.bg_paths = [];

    var paths = this.bg_paths;
    if (def.p)
    {
      for(i=0;i<def.p.length;i++)
        paths[paths.length] = paper.path(def.p[i]).attr({'fill':color, 'stroke':'none', 'opacity': opacity}).transform(transformStr);
    }

    return paths;
  }

  setFlipsEG (flags) {
    this.flip = 0;

    for(var i=0; i<flags.length; i++)
    {
      if (this.flags_defs[flags[i]])
      {
        this.flip += this.flags_defs[flags[i]];
      }
    }
  }
}

export default EmblemGenerator
